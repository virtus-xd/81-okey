/* ============================================================================
   81 Okey — Premium Oyun Stili
   ============================================================================ */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Outfit:wght@400;500;600;700;800&display=swap');

/* ─── CSS DEĞİŞKENLERİ ─── */
:root {
  /* Masa renkleri — turkuaz/mavi ton */
  --masa-koyu: #0b4f6c;
  --masa-acik: #0e7490;
  --masa-kenar: #083344;
  --masa-doku: radial-gradient(ellipse at center, #0e7490 0%, #0b5e7e 50%, #083344 100%);

  /* Taş renkleri */
  --tas-kirmizi: #dc2626;
  --tas-sari: #d97706;
  --tas-mavi: #2563eb;
  --tas-siyah: #1e293b;
  --tas-joker: #16a34a;
  --tas-arka: linear-gradient(145deg, #5b4a3a, #3e2f23);
  --tas-arka-renk: #4a3728;

  /* UI renkleri */
  --altin: #f0c040;
  --altin-parlak: #ffd700;
  --beyaz: #f1faee;
  --koyu-bg: #0a1628;
  --panel-bg: rgba(10, 22, 40, 0.92);
  --panel-kenar: rgba(240, 192, 64, 0.15);
  --yesil-vurgu: #4ade80;
  --kirmizi-vurgu: #f87171;
  --mavi-vurgu: #60a5fa;

  /* Raf renkleri — ahşap */
  --raf-acik: #8B6914;
  --raf-koyu: #5C4A0E;
  --raf-kenar: #3D2F08;

  /* Boyutlar */
  --tas-genislik: 48px;
  --tas-yukseklik: 72px;
  --tas-radius: 5px;
  --raf-yukseklik: 160px;

  /* Animasyon */
  --gecis: 0.2s ease;
  --gecis-yavas: 0.4s ease;
}

/* ─── SIFIRLAMA ─── */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html,
body {
  width: 100%;
  height: 100%;
  overflow: hidden;
  font-family: 'Inter', 'Segoe UI', sans-serif;
  background: var(--koyu-bg);
  color: var(--beyaz);
  user-select: none;
  -webkit-user-select: none;
}

/* ─── ANA DÜZEN ─── */
#oyun-alani {
  width: 100vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  position: relative;
}

/* ─── MASA (CANVAS ALANI) ─── */
#masa-container {
  flex: 1;
  position: relative;
  overflow: hidden;
  background: var(--masa-doku);
  background-size: cover;
}

/* Dekoratif doku overlay */
#masa-container::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    repeating-linear-gradient(45deg,
      transparent,
      transparent 3px,
      rgba(0, 0, 0, 0.02) 3px,
      rgba(0, 0, 0, 0.02) 6px);
  pointer-events: none;
  z-index: 1;
}

/* Masa kenarlığı — ahşap çerçeve */
#masa-container::after {
  content: '';
  position: absolute;
  inset: 6px;
  border: 3px solid rgba(8, 51, 68, 0.5);
  border-radius: 18px;
  box-shadow:
    inset 0 0 80px rgba(0, 0, 0, 0.25),
    0 0 20px rgba(0, 0, 0, 0.4);
  pointer-events: none;
  z-index: 1;
}

#oyun-canvas {
  width: 100%;
  height: 100%;
  display: block;
}

/* ─── OYUNCU BİLGİ PANELLERİ ─── */
.oyuncu-panel {
  position: absolute;
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 16px;
  background: var(--panel-bg);
  border: 1px solid var(--panel-kenar);
  border-radius: 12px;
  backdrop-filter: blur(12px);
  z-index: 10;
  transition: var(--gecis);
}

.oyuncu-panel.aktif {
  border-color: var(--altin);
  box-shadow: 0 0 20px rgba(240, 192, 64, 0.3), 0 0 40px rgba(240, 192, 64, 0.1);
}

.oyuncu-panel .avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: linear-gradient(135deg, #667eea, #764ba2);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  font-weight: 700;
  color: white;
  border: 2px solid transparent;
  transition: var(--gecis);
}

.oyuncu-panel.aktif .avatar {
  border-color: var(--altin);
  box-shadow: 0 0 12px rgba(240, 192, 64, 0.5);
  animation: avatar-pulse 2s ease-in-out infinite;
}

.oyuncu-panel .bilgi {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.oyuncu-panel .isim {
  font-size: 13px;
  font-weight: 600;
  color: var(--beyaz);
}

.oyuncu-panel .puan {
  font-size: 11px;
  font-weight: 500;
  color: rgba(255, 255, 255, 0.6);
}

.oyuncu-panel .tas-sayisi {
  font-size: 10px;
  color: rgba(255, 255, 255, 0.4);
}

/* Oyuncu pozisyonları */
#oyuncu-guney {
  bottom: calc(var(--raf-yukseklik) + 8px);
  left: 50%;
  transform: translateX(-50%);
}

#oyuncu-kuzey {
  top: 12px;
  left: 50%;
  transform: translateX(-50%);
}

#oyuncu-dogu {
  right: 12px;
  top: 45%;
  transform: translateY(-50%);
  flex-direction: column;
  text-align: center;
}

#oyuncu-bati {
  left: 12px;
  top: 45%;
  transform: translateY(-50%);
  flex-direction: column;
  text-align: center;
}

/* ─── MERKEZ ALAN ─── */
#merkez-alan {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  align-items: center;
  gap: 24px;
  z-index: 5;
}

/* Istaka yığını */
#istaka-yigini {
  position: relative;
  cursor: pointer;
  transition: var(--gecis);
}

#istaka-yigini:hover {
  transform: scale(1.05);
}

.istaka-tas {
  width: var(--tas-genislik);
  height: var(--tas-yukseklik);
  background: var(--tas-arka);
  border: 2px solid rgba(255, 255, 255, 0.1);
  border-radius: var(--tas-radius);
  position: absolute;
  box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.4);
}

.istaka-tas:nth-child(1) {
  top: 0;
  left: 0;
}

.istaka-tas:nth-child(2) {
  top: -2px;
  left: 2px;
}

.istaka-tas:nth-child(3) {
  top: -4px;
  left: 4px;
}

#istaka-sayi {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 16px;
  font-weight: 800;
  color: var(--beyaz);
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
  z-index: 2;
}

/* Atılan taş */
#atilan-tas-alani {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
}

#atilan-tas-alani .etiket {
  font-size: 10px;
  color: rgba(255, 255, 255, 0.5);
  text-transform: uppercase;
  letter-spacing: 1px;
}

/* Gösterge taşı */
#gosterge-alani {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
}

#gosterge-alani .etiket {
  font-size: 10px;
  color: rgba(255, 255, 255, 0.5);
  text-transform: uppercase;
  letter-spacing: 1px;
}

#gosterge-alani .okey-bilgi {
  font-size: 9px;
  color: var(--altin);
  font-weight: 600;
}

/* ─── TAŞ STİLLERİ ─── */
.tas {
  width: var(--tas-genislik);
  height: var(--tas-yukseklik);
  background: linear-gradient(180deg, #fff 0%, #f0f0f0 50%, #e0e0e0 100%);
  border: 2px solid #ccc;
  border-radius: var(--tas-radius);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-family: 'Outfit', sans-serif;
  font-size: 26px;
  font-weight: 800;
  cursor: grab;
  transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;
  position: relative;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.8);
  flex-shrink: 0;
}

.tas::before {
  content: '';
  position: absolute;
  top: 2px;
  left: 2px;
  right: 2px;
  height: 40%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.6), transparent);
  border-radius: 4px 4px 0 0;
  pointer-events: none;
}

.tas:hover {
  transform: translateY(-8px) scale(1.08);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
  z-index: 100;
}

.tas:active {
  cursor: grabbing;
}

.tas.secili {
  border-color: var(--altin-parlak);
  box-shadow: 0 0 16px rgba(255, 215, 0, 0.6), 0 4px 12px rgba(0, 0, 0, 0.3);
  transform: translateY(-12px) scale(1.1);
}

.tas.gecerli-vurgu {
  border-color: var(--yesil-vurgu);
  box-shadow: 0 0 12px rgba(74, 222, 128, 0.4);
}

.tas.gecersiz-vurgu {
  border-color: var(--kirmizi-vurgu);
  box-shadow: 0 0 12px rgba(248, 113, 113, 0.4);
}

/* Taş renkleri */
.tas.kirmizi {
  color: var(--tas-kirmizi);
}

.tas.sari {
  color: var(--tas-sari);
}

.tas.mavi {
  color: var(--tas-mavi);
}

.tas.siyah {
  color: var(--tas-siyah);
}

.tas.joker,
.tas.sahte-okey {
  color: #22c55e;
  font-size: 14px;
}

.tas.sahte-okey {
  display: flex;
  align-items: center;
  justify-content: center;
}

.tas.sahte-okey .tas-sahte-okey-yildiz {
  font-size: 26px;
  color: #22c55e;
  line-height: 1;
  text-shadow: 0 0 8px rgba(34, 197, 94, 0.4);
}

/* Gerçek Okey (Wild Card) Vurgusu */
.tas.okey-wild {
  border-color: var(--altin-parlak) !important;
  box-shadow: 0 0 12px rgba(255, 215, 0, 0.4), inset 0 0 8px rgba(255, 215, 0, 0.1);
  background: linear-gradient(135deg, var(--tas-on), #fffbf0) !important;
}

.tas-wild-ikon {
  position: absolute;
  top: 4px;
  right: 5px;
  font-size: 11px;
  color: #fbbf24;
  text-shadow: 0 0 4px rgba(0, 0, 0, 0.3);
}

/* Kapalı taş */
.tas.kapali {
  background: var(--tas-arka);
  border-color: rgba(255, 255, 255, 0.1);
  color: transparent;
  cursor: default;
}

.tas.kapali::before {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.08), transparent);
}

.tas.kapali::after {
  content: '✦';
  position: absolute;
  color: rgba(255, 255, 255, 0.15);
  font-size: 20px;
}

/* Küçük taşlar (diğer oyuncular, gösterge vb.) */
.tas.kucuk {
  width: 38px;
  height: 54px;
  font-size: 17px;
}

/* ─── OYUNCU ELİ (RAF) — Ahşap İstaka ─── */
#raf-container {
  height: var(--raf-yukseklik);
  background:
    linear-gradient(180deg,
      #a07828 0%,
      #8B6914 6%,
      #7a5c10 50%,
      #5C4A0E 80%,
      #3D2F08 100%);
  border-top: 3px solid #b8860b;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-end;
  padding: 4px 12px 10px;
  gap: 8px;
  position: relative;
  z-index: 20;
  box-shadow:
    inset 0 2px 4px rgba(255, 255, 255, 0.15),
    inset 0 -4px 8px rgba(0, 0, 0, 0.3),
    0 -2px 8px rgba(0, 0, 0, 0.4);
}

/* Ahşap kenar çizgisi */
#raf-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg,
      transparent 0%,
      rgba(255, 215, 0, 0.3) 20%,
      rgba(255, 215, 0, 0.5) 50%,
      rgba(255, 215, 0, 0.3) 80%,
      transparent 100%);
  z-index: 1;
}

/* Raf alt kenarı — taşların oturduğu çıkıntı */
#raf-container::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 5%;
  right: 5%;
  height: 6px;
  background: linear-gradient(180deg, #3D2F08, #2a1f06);
  border-radius: 0 0 4px 4px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

#tas-rafi {
  display: grid;
  grid-template-columns: repeat(14, var(--tas-genislik));
  grid-template-rows: repeat(2, var(--tas-yukseklik));
  gap: 2px 4px;
  justify-content: center;
  align-content: center;
  height: calc(var(--raf-yukseklik) - 10px);
  padding: 4px;
  flex: 1;
}

/* Her bir taş yuvası */
.tas-slot {
  width: var(--tas-genislik);
  height: var(--tas-yukseklik);
  border: 1px solid rgba(255, 215, 0, 0.05);
  border-radius: var(--tas-radius);
  background: rgba(0, 0, 0, 0.15);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--gecis);
  position: relative;
}

.tas-slot.bos:hover {
  background: rgba(240, 192, 64, 0.1);
  border-color: rgba(240, 192, 64, 0.2);
}

.tas-slot .tas {
  margin: 0;
  transform: none !important;
  /* Slot içindeyken transform'u ez */
  position: relative;
  z-index: 2;
}

.tas-slot .tas:hover {
  transform: scale(1.05) !important;
  z-index: 10;
}

/* Sürükleme hedefi vurgusu (yuva için) */
.tas-slot.drop-hedef {
  background: rgba(240, 192, 64, 0.2);
  border-color: var(--altin);
  box-shadow: inset 0 0 10px rgba(240, 192, 64, 0.3);
}

/* El Puanı Sayacı */
.el-puani-konteynir {
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(4px);
  padding: 4px 12px;
  border-radius: 20px;
  border: 1px solid rgba(240, 192, 64, 0.3);
  margin-bottom: 2px;
  z-index: 30;
  transition: var(--gecis);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.el-puani-konteynir.aktif {
  background: rgba(240, 192, 64, 0.15);
  border-color: var(--altin);
  animation: puan-pulse 2s infinite ease-in-out;
}

@keyframes puan-pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(240, 192, 64, 0.4);
  }

  70% {
    box-shadow: 0 0 0 10px rgba(240, 192, 64, 0);
  }

  100% {
    box-shadow: 0 0 0 0 rgba(240, 192, 64, 0);
  }
}

.el-puani-etiket {
  font-size: 13px;
  font-weight: 700;
  color: var(--beyaz);
  letter-spacing: 0.5px;
  display: flex;
  align-items: center;
  gap: 6px;
}

#el-puani-deger {
  color: var(--altin);
  font-size: 16px;
  text-shadow: 0 0 10px rgba(240, 192, 64, 0.5);
}

/* Sürükleme göstergesi */
.tas.surukleniyor {
  opacity: 0.4;
}

.tas-rafi-drop-hedef {
  border-left: 3px solid var(--altin);
}

/* ─── AKSİYON BUTONLARI ─── */
#aksiyon-panel {
  display: flex;
  flex-direction: column;
  gap: 6px;
  align-items: center;
}

.aksiyon-btn {
  padding: 8px 18px;
  border: 1px solid var(--panel-kenar);
  border-radius: 8px;
  background: var(--panel-bg);
  color: var(--beyaz);
  font-family: 'Inter', sans-serif;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: var(--gecis);
  white-space: nowrap;
  backdrop-filter: blur(8px);
}

.aksiyon-btn:hover:not(:disabled) {
  background: rgba(240, 192, 64, 0.15);
  border-color: var(--altin);
  color: var(--altin);
  transform: translateY(-1px);
}

.aksiyon-btn:active:not(:disabled) {
  transform: translateY(0);
}

.aksiyon-btn:disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

.aksiyon-btn.tehlike {
  border-color: rgba(248, 113, 113, 0.3);
}

.aksiyon-btn.tehlike:hover:not(:disabled) {
  background: rgba(248, 113, 113, 0.15);
  border-color: var(--kirmizi-vurgu);
  color: var(--kirmizi-vurgu);
}

.aksiyon-btn.basari {
  border-color: rgba(74, 222, 128, 0.3);
}

.aksiyon-btn.basari:hover:not(:disabled) {
  background: rgba(74, 222, 128, 0.15);
  border-color: var(--yesil-vurgu);
  color: var(--yesil-vurgu);
}

.aksiyon-btn.cifte {
  border-color: rgba(155, 93, 229, 0.3);
  color: #c084fc;
}

.aksiyon-btn.cifte:hover:not(:disabled) {
  background: rgba(155, 93, 229, 0.15);
  border-color: #9b5de5;
  color: #e0aaff;
}

#btn-yandan-al {
  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
  border-color: #60a5fa;
  box-shadow: 0 0 10px rgba(37, 99, 235, 0.3);
}

#btn-yandan-al:hover {
  background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
  box-shadow: 0 0 15px rgba(37, 99, 235, 0.5);
  transform: translateY(-1px);
}

/* ─── HUD ─── */
#hud {
  position: absolute;
  top: 12px;
  right: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  z-index: 15;
}

.hud-kutu {
  background: var(--panel-bg);
  border: 1px solid var(--panel-kenar);
  border-radius: 10px;
  padding: 10px 14px;
  backdrop-filter: blur(12px);
  min-width: 120px;
}

.hud-kutu .baslik {
  font-size: 9px;
  text-transform: uppercase;
  letter-spacing: 1.5px;
  color: rgba(255, 255, 255, 0.4);
  margin-bottom: 4px;
}

.hud-kutu .deger {
  font-size: 20px;
  font-weight: 800;
  font-family: 'Outfit', sans-serif;
  color: var(--altin);
}

#zamanlayici {
  font-variant-numeric: tabular-nums;
}

#zamanlayici.uyari {
  color: var(--kirmizi-vurgu);
  animation: zamanlayici-yanip-son 1s ease-in-out infinite;
}

/* ─── SKOR TABLOSU ─── */
#skor-panel {
  position: absolute;
  top: 12px;
  left: 12px;
  z-index: 15;
}

#skor-tablo {
  width: 100%;
  border-collapse: collapse;
  font-size: 11px;
}

#skor-tablo th {
  font-size: 9px;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: rgba(255, 255, 255, 0.4);
  padding: 4px 8px;
  text-align: left;
}

#skor-tablo td {
  padding: 3px 8px;
  color: var(--beyaz);
  font-weight: 500;
}

#skor-tablo tr.aktif-skor td {
  color: var(--altin);
}

/* ─── AÇILMIŞ KOMBİNASYONLAR ─── */
.acilmis-alan {
  position: absolute;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  z-index: 5;
  max-width: 280px;
}

#acilmis-guney {
  bottom: calc(var(--raf-yukseklik) + 60px);
  left: 50%;
  transform: translateX(-50%);
}

#acilmis-kuzey {
  top: 60px;
  left: 50%;
  transform: translateX(-50%);
}

#acilmis-dogu {
  right: 80px;
  top: 50%;
  transform: translateY(-50%);
  flex-direction: column;
}

#acilmis-bati {
  left: 80px;
  top: 50%;
  transform: translateY(-50%);
  flex-direction: column;
}

.kombinasyon-grubu {
  display: flex;
  gap: 2px;
  padding: 4px 6px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.kombinasyon-grubu .puan-badge {
  position: absolute;
  top: -8px;
  right: -8px;
  background: var(--altin);
  color: #000;
  font-size: 10px;
  font-weight: 700;
  padding: 1px 5px;
  border-radius: 8px;
}

/* ─── MODAL / POPUP ─── */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  backdrop-filter: blur(4px);
  opacity: 0;
  visibility: hidden;
  transition: var(--gecis-yavas);
}

.modal-overlay.gorunur {
  opacity: 1;
  visibility: visible;
}

.modal {
  background: linear-gradient(180deg, #1a1f2e, #0d1117);
  border: 1px solid var(--panel-kenar);
  border-radius: 16px;
  padding: 32px;
  min-width: 360px;
  max-width: 500px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
  transform: translateY(20px) scale(0.95);
  transition: var(--gecis-yavas);
}

.modal-overlay.gorunur .modal {
  transform: translateY(0) scale(1);
}

.modal h2 {
  font-family: 'Outfit', sans-serif;
  font-size: 22px;
  font-weight: 700;
  color: var(--altin);
  margin-bottom: 16px;
  text-align: center;
}

.modal p {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.7);
  text-align: center;
  margin-bottom: 20px;
  line-height: 1.5;
}

.modal-butonlar {
  display: flex;
  gap: 12px;
  justify-content: center;
}

.modal-butonlar .aksiyon-btn {
  padding: 10px 24px;
  font-size: 14px;
}

/* ─── BANNER ANİMASYONU ─── */
#banner {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0);
  font-family: 'Outfit', sans-serif;
  font-size: 36px;
  font-weight: 800;
  color: var(--altin);
  text-shadow: 0 0 20px rgba(240, 192, 64, 0.6), 0 4px 8px rgba(0, 0, 0, 0.5);
  z-index: 500;
  pointer-events: none;
  white-space: nowrap;
  opacity: 0;
}

#banner.goster {
  animation: banner-gir 0.5s ease forwards, banner-cik 0.5s ease 2s forwards;
}

/* ─── BİLDİRİMLER ─── */
#bildirimler {
  position: fixed;
  top: 60px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  gap: 8px;
  z-index: 200;
  pointer-events: none;
}

.bildirim {
  background: var(--panel-bg);
  border: 1px solid var(--panel-kenar);
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 13px;
  font-weight: 500;
  color: var(--beyaz);
  text-align: center;
  backdrop-filter: blur(12px);
  animation: bildirim-gir 0.3s ease forwards;
  white-space: nowrap;
}

.bildirim.cifte-bildirim {
  border-color: rgba(155, 93, 229, 0.5);
  color: #e0aaff;
}

/* ─── OYUNCU ATILAN TAŞ ALANLARI (köşeler) ─── */
.oyuncu-atilan-alan {
  position: absolute;
  z-index: 12;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: 8px 10px;
  background: rgba(13, 17, 23, 0.82);
  border: 1px solid rgba(240, 192, 64, 0.15);
  border-radius: 10px;
  backdrop-filter: blur(8px);
  min-width: 60px;
  min-height: 80px;
  transition: var(--gecis);
}

.oyuncu-atilan-alan.aktif-atilan {
  border-color: rgba(240, 192, 64, 0.6);
  box-shadow: 0 0 16px rgba(240, 192, 64, 0.25);
}

.atilan-etiket {
  font-size: 9px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: rgba(255, 255, 255, 0.5);
  white-space: nowrap;
}

.atilan-tas-yuvasi {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 36px;
  min-height: 50px;
}

.atilan-tas-yuvasi .tas {
  animation: atilan-tas-gir 0.3s ease forwards;
}

/* Köşe pozisyonları — oyuncu panellerine yakın */
.oyuncu-atilan-alan.kuzey {
  top: 54px;
  left: 50%;
  transform: translateX(-50%);
}

.oyuncu-atilan-alan.dogu {
  right: 14px;
  top: 60%;
}

.oyuncu-atilan-alan.bati {
  left: 14px;
  top: 60%;
}

.oyuncu-atilan-alan.guney {
  bottom: calc(var(--raf-yukseklik) + 52px);
  left: calc(50% + 120px);
}

/* Taş giriş animasyonu */
@keyframes atilan-tas-gir {
  0% {
    opacity: 0;
    transform: scale(0.5) translateY(-10px);
  }

  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/* ─── ANİMASYONLAR ─── */
@keyframes avatar-pulse {

  0%,
  100% {
    box-shadow: 0 0 12px rgba(240, 192, 64, 0.5);
  }

  50% {
    box-shadow: 0 0 24px rgba(240, 192, 64, 0.8);
  }
}

@keyframes zamanlayici-yanip-son {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }
}

@keyframes banner-gir {
  0% {
    transform: translate(-50%, -50%) scale(0);
    opacity: 0;
  }

  60% {
    transform: translate(-50%, -50%) scale(1.2);
    opacity: 1;
  }

  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
}

@keyframes banner-cik {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }

  100% {
    transform: translate(-50%, -60%) scale(0.8);
    opacity: 0;
  }
}

@keyframes bildirim-gir {
  0% {
    transform: translateY(-20px);
    opacity: 0;
  }

  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes tas-dagit {
  0% {
    transform: scale(0) rotate(180deg);
    opacity: 0;
  }

  80% {
    transform: scale(1.1) rotate(-5deg);
    opacity: 1;
  }

  100% {
    transform: scale(1) rotate(0);
    opacity: 1;
  }
}

@keyframes sayac-artis {
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.3);
    color: var(--altin);
  }

  100% {
    transform: scale(1);
  }
}

.tas.dagitiliyor {
  animation: tas-dagit 0.3s ease forwards;
}

/* ─── ÇİFTE GÖSTERGESİ ─── */
#cifte-gosterge {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, 60px);
  background: linear-gradient(135deg, rgba(155, 93, 229, 0.9), rgba(192, 132, 252, 0.9));
  color: white;
  font-family: 'Outfit', sans-serif;
  font-size: 14px;
  font-weight: 700;
  padding: 8px 20px;
  border-radius: 20px;
  border: 2px solid rgba(224, 170, 255, 0.5);
  box-shadow: 0 4px 20px rgba(155, 93, 229, 0.4), 0 0 40px rgba(155, 93, 229, 0.2);
  z-index: 50;
  display: none;
  letter-spacing: 1px;
  text-transform: uppercase;
  animation: cifte-pulse 2s ease-in-out infinite;
  white-space: nowrap;
}

#cifte-gosterge.gorunur {
  display: block;
}

/* ─── İZİN POPUP ─── */
.izin-popup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0.9);
  background: linear-gradient(180deg, #1e2a3a, #0d1117);
  border: 2px solid rgba(240, 192, 64, 0.4);
  border-radius: 16px;
  padding: 28px 36px;
  z-index: 900;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6), 0 0 40px rgba(240, 192, 64, 0.1);
  text-align: center;
  animation: izin-popup-gir 0.3s ease forwards;
  min-width: 320px;
}

.izin-popup .izin-baslik {
  font-family: 'Outfit', sans-serif;
  font-size: 18px;
  font-weight: 700;
  color: var(--altin);
  margin-bottom: 8px;
}

.izin-popup .izin-mesaj {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.7);
  margin-bottom: 6px;
}

.izin-popup .izin-tas {
  display: inline-flex;
  gap: 8px;
  margin: 12px 0;
}

.izin-popup .izin-butonlar {
  display: flex;
  gap: 12px;
  justify-content: center;
  margin-top: 16px;
}

.izin-popup .izin-butonlar .aksiyon-btn {
  padding: 10px 28px;
  font-size: 14px;
  font-weight: 700;
}

.izin-popup-arka {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 899;
  animation: fade-in 0.2s ease forwards;
}

/* ─── CANLI PUAN SAYACI ─── */
#canli-sayac-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.65);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 600;
  backdrop-filter: blur(3px);
}

#canli-sayac-overlay.gorunur {
  display: flex;
}

.canli-sayac {
  text-align: center;
}

.canli-sayac .sayac-baslik {
  font-family: 'Outfit', sans-serif;
  font-size: 16px;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.6);
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 2px;
}

.canli-sayac .sayac-deger {
  font-family: 'Outfit', sans-serif;
  font-size: 72px;
  font-weight: 800;
  color: var(--beyaz);
  text-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
  transition: color 0.3s ease, text-shadow 0.3s ease;
  line-height: 1;
}

.canli-sayac .sayac-deger.kafa {
  color: var(--yesil-vurgu);
  text-shadow: 0 0 40px rgba(74, 222, 128, 0.6);
}

.canli-sayac .sayac-deger.cift-kafa {
  color: var(--altin-parlak);
  text-shadow: 0 0 40px rgba(255, 215, 0, 0.6);
}

.canli-sayac .sayac-etiket {
  font-family: 'Outfit', sans-serif;
  font-size: 24px;
  font-weight: 700;
  margin-top: 12px;
  opacity: 0;
  transform: scale(0.5);
  transition: all 0.4s ease;
}

.canli-sayac .sayac-etiket.gorunur {
  opacity: 1;
  transform: scale(1);
}

.canli-sayac .sayac-etiket.kafa {
  color: var(--yesil-vurgu);
}

.canli-sayac .sayac-etiket.cift-kafa {
  color: var(--altin-parlak);
}

/* ─── SPARKLE / PARTİKÜL EFEKTİ ─── */
.sparkle-container {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 700;
  overflow: hidden;
}

.sparkle {
  position: absolute;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  pointer-events: none;
  animation: sparkle-fly 1.5s ease-out forwards;
}

/* ─── SES BUTONU ─── */
#btn-ses {
  position: absolute;
  bottom: 12px;
  right: 12px;
  z-index: 15;
  background: var(--panel-bg);
  border: 1px solid var(--panel-kenar);
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 18px;
  color: var(--beyaz);
  backdrop-filter: blur(8px);
  transition: var(--gecis);
}

#btn-ses:hover {
  border-color: var(--altin);
  color: var(--altin);
}

#btn-ses.kapali {
  opacity: 0.5;
}

/* ─── EK ANİMASYONLAR ─── */
@keyframes cifte-pulse {

  0%,
  100% {
    box-shadow: 0 4px 20px rgba(155, 93, 229, 0.4), 0 0 40px rgba(155, 93, 229, 0.2);
  }

  50% {
    box-shadow: 0 4px 30px rgba(155, 93, 229, 0.6), 0 0 60px rgba(155, 93, 229, 0.3);
  }
}

@keyframes izin-popup-gir {
  0% {
    transform: translate(-50%, -50%) scale(0.8);
    opacity: 0;
  }

  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
}

@keyframes fade-in {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
}

@keyframes sparkle-fly {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 1;
  }

  100% {
    transform: translate(var(--sx), var(--sy)) scale(0);
    opacity: 0;
  }
}

@keyframes sayac-bounce {
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.15);
  }

  100% {
    transform: scale(1);
  }
}

/* ─── RESPONSIVE ─── */
@media (max-width: 768px) {
  :root {
    --tas-genislik: 40px;
    --tas-yukseklik: 58px;
    --raf-yukseklik: 130px;
  }

  .oyuncu-panel {
    padding: 6px 10px;
    gap: 6px;
  }

  .oyuncu-panel .avatar {
    width: 30px;
    height: 30px;
    font-size: 14px;
  }

  .oyuncu-panel .isim {
    font-size: 11px;
  }

  .oyuncu-panel .puan {
    font-size: 10px;
  }

  .hud-kutu {
    padding: 6px 10px;
    min-width: 90px;
  }

  .hud-kutu .deger {
    font-size: 16px;
  }

  .modal {
    min-width: 280px;
    padding: 24px;
  }

  #tas-rafi {
    max-width: calc(100vw - 140px);
  }

  .aksiyon-btn {
    padding: 6px 12px;
    font-size: 11px;
  }

  .tas.kucuk {
    width: 32px;
    height: 46px;
    font-size: 14px;
  }

  .oyuncu-atilan-alan {
    min-width: 48px;
    min-height: 64px;
    padding: 6px 8px;
  }
}

@media (max-width: 480px) {
  :root {
    --tas-genislik: 34px;
    --tas-yukseklik: 48px;
    --raf-yukseklik: 110px;
  }

  .tas {
    font-size: 18px;
  }

  .tas.kucuk {
    width: 28px;
    height: 40px;
    font-size: 13px;
  }
}

/* ─── DAĞITIM ANİMASYONU ─── */
@keyframes tas-giris {
  from {
    opacity: 0;
    transform: translateY(30px) scale(0.9);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.tas.dagitiliyor {
  animation: tas-giris 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Ensure tiles are visible on top of background */
#tas-rafi .tas {
  z-index: 5;
  position: relative;
}

/* ─── TAŞ İŞLEME DROP HEDEFİ ─── */
.kombinasyon-grubu.isle-hedef {
  outline: 2px dashed #4ade80;
  outline-offset: 2px;
  background: rgba(74, 222, 128, 0.15);
  border-radius: 6px;
  transform: scale(1.03);
  transition: all 0.2s ease;
  box-shadow: 0 0 12px rgba(74, 222, 128, 0.4);
}

.kombinasyon-grubu {
  transition: transform 0.2s ease, outline 0.2s ease, background 0.2s ease;
}

/* ─── MULTIPLAYER LOBİ ─── */

#lobi-ekrani {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: radial-gradient(ellipse at center, #1a1f36 0%, #0f1118 100%);
}

.lobi-kutu {
  background: rgba(30, 35, 60, 0.95);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 40px;
  width: 400px;
  max-width: 90vw;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5), 0 0 40px rgba(240, 192, 64, 0.1);
  backdrop-filter: blur(20px);
}

.lobi-baslik {
  text-align: center;
  margin-bottom: 30px;
}

.lobi-emoji {
  font-size: 3rem;
  display: block;
  margin-bottom: 8px;
}

.lobi-baslik h1 {
  font-size: 2rem;
  color: #f0c040;
  margin: 0;
  text-shadow: 0 0 20px rgba(240, 192, 64, 0.3);
}

.lobi-altbaslik {
  font-size: 0.9rem;
  color: #888;
  text-transform: uppercase;
  letter-spacing: 3px;
}

.lobi-form {
  display: flex;
  gap: 8px;
  margin-bottom: 24px;
}

#oyuncu-isim {
  flex: 1;
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 8px;
  padding: 12px 16px;
  color: #fff;
  font-size: 1rem;
  outline: none;
  transition: border-color 0.3s;
}

#oyuncu-isim:focus {
  border-color: #f0c040;
}

#oyuncu-isim::placeholder {
  color: rgba(255, 255, 255, 0.3);
}

.lobi-btn {
  background: linear-gradient(135deg, #f0c040, #e67e22);
  border: none;
  border-radius: 8px;
  padding: 12px 20px;
  color: #1a1a2e;
  font-weight: bold;
  font-size: 1rem;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  white-space: nowrap;
}

.lobi-btn:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 4px 20px rgba(240, 192, 64, 0.4);
}

.lobi-btn:disabled {
  opacity: 0.6;
  cursor: default;
}

.lobi-durum {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 8px;
  padding: 16px;
  text-align: center;
}

.lobi-sayi {
  font-size: 1.5rem;
  color: #f0c040;
  font-weight: bold;
  margin-bottom: 12px;
}

.lobi-liste {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 12px;
}

.lobi-oyuncu {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 6px;
  padding: 8px 12px;
  color: #ccc;
  font-size: 0.9rem;
}

.lobi-bekle {
  color: #888;
  font-size: 0.85rem;
  animation: pulse-glow 2s ease-in-out infinite;
}

.lobi-basliyor {
  color: #4ade80;
  font-size: 1rem;
  font-weight: bold;
  animation: pulse-glow 0.5s ease-in-out infinite;
}

@keyframes pulse-glow {

  0%,
  100% {
    opacity: 0.7;
  }

  50% {
    opacity: 1;
  }
}

/* ─── SIRA GÖSTERGESİ ─── */

.sira-gosterge {
  position: fixed;
  top: 8px;
  left: 50%;
  transform: translateX(-50%);
  padding: 8px 24px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: bold;
  z-index: 100;
  transition: all 0.3s ease;
}

.sira-gosterge.aktif {
  background: linear-gradient(135deg, rgba(74, 222, 128, 0.9), rgba(34, 197, 94, 0.9));
  color: #fff;
  box-shadow: 0 4px 20px rgba(74, 222, 128, 0.4);
  animation: sira-pulse 1.5s ease-in-out infinite;
}

.sira-gosterge.bekle {
  background: rgba(50, 55, 80, 0.9);
  color: #888;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

@keyframes sira-pulse {

  0%,
  100% {
    box-shadow: 0 4px 20px rgba(74, 222, 128, 0.4);
  }

  50% {
    box-shadow: 0 4px 30px rgba(74, 222, 128, 0.7);
  }
}

/* ─── YANDAN AL PANELİ ─── */

#yandan-al-panel {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 200;
  backdrop-filter: blur(4px);
}

.yandan-al-icerik {
  background: rgba(30, 35, 60, 0.95);
  border: 1px solid rgba(240, 192, 64, 0.3);
  border-radius: 16px;
  padding: 30px;
  text-align: center;
  max-width: 350px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

.yandan-al-icerik p {
  color: #ccc;
  margin-bottom: 16px;
  font-size: 1rem;
}

.yandan-al-tas {
  display: inline-block;
  background: rgba(240, 192, 64, 0.15);
  border: 1px solid rgba(240, 192, 64, 0.4);
  border-radius: 8px;
  padding: 8px 16px;
  color: #f0c040;
  font-weight: bold;
  margin-bottom: 20px;
}

.yandan-al-butonlar {
  display: flex;
  gap: 10px;
  justify-content: center;
}

.btn-onayla {
  background: linear-gradient(135deg, #4ade80, #22c55e) !important;
  color: #fff !important;
}

.btn-reddet {
  background: linear-gradient(135deg, #f87171, #ef4444) !important;
  color: #fff !important;
}

/* ─── TUR SONU MODAL ─── */

.tur-sonu-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 300;
  backdrop-filter: blur(4px);
}

.tur-sonu-kutu {
  background: rgba(30, 35, 60, 0.95);
  border: 1px solid rgba(240, 192, 64, 0.3);
  border-radius: 16px;
  padding: 30px;
  max-width: 450px;
  min-width: 300px;
  text-align: center;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

.tur-sonu-kutu h3 {
  color: #f0c040;
  font-size: 1.4rem;
  margin-bottom: 8px;
}

.tur-sonu-kutu p {
  color: #aaa;
  margin-bottom: 16px;
}

.tur-sonu-tablo {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 20px;
}

.tur-sonu-tablo th,
.tur-sonu-tablo td {
  padding: 8px 12px;
  text-align: left;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  color: #ccc;
}

.tur-sonu-tablo th {
  color: #f0c040;
  font-size: 0.8rem;
  text-transform: uppercase;
}

/* ─── ZORUNLU AÇMA GERİ SAYIM ─── */
.sira-gosterge.zorunlu-acma {
  background: linear-gradient(135deg, rgba(220, 38, 38, 0.95), rgba(185, 28, 28, 0.95)) !important;
  border-color: #fca5a5 !important;
  animation: zorunlu-acma-nabiz 1s ease-in-out infinite;
}

@keyframes zorunlu-acma-nabiz {

  0%,
  100% {
    box-shadow: 0 0 8px rgba(220, 38, 38, 0.4);
  }

  50% {
    box-shadow: 0 0 20px rgba(220, 38, 38, 0.8), 0 0 40px rgba(220, 38, 38, 0.3);
  }
}